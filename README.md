# git-study
study git, github, sourcetree..


## Git 기본 용어
- **Add** : 내 컴퓨터에서 작업한 파일들을 스테이지에 추가
- **Commit** : 스테이지에 올라온 파일들을 가지고 내 컴퓨터에 저장
- **Push** : 커밋들을 원격 저장소에 업로드
- **Clone** : 원격 저장소 파일을 내 컴퓨터에 복사


## Branch 관리하기
- **Branch**
: 브랜치는 기존 내용을 유지한 상태로 새로운 내용을 개발할 때 사용한다.
  <br>
  >_Master(or main) Branch는 주로 사용하지 않고, 개발을 할 때는 다른 branch를 만들어서 개발하고 merge!_
  
- **Checkout** : 마지막 커밋/다른 브랜치으로 돌아가기
  
  >(sourcetree > 지울 변경 파일 클릭 > 파일버리기) - 스테이징에 있던 파일 버리기</br>
  (sourcetree > branch > 원하는 브랜치 더블 클릭)
  _현재 브랜치를 HEAD 브랜치라고 한다. 쉽게 이해한 것으로는 checkout을 하면 HEAD가 이동하는 듯 하다._
  
- **Merge** : 두 브랜치를 합치는 것
  >두 브랜치를 합치면서 충돌이 나면 수동으로 어떤 변경 사항을 적용할 것인지 처리가 필요하다.
  _<br>Merge후에 해당 브랜치가 더이상 필요없다면 삭제해도 된다.(해당 branch선택 > 우클릭'삭제')_
  
- **Pull** : 서버의 내용(원격 저장소)이 최신일 경우 pull을 적용
  > 충돌이 날 수 있지만 놀라지 말자.   
  pull = fetch + merge
  > 
- **Reset** : 커밋내용을 되돌리는 것
  > 이전 커밋이 다른 브랜치에 있으면 다행이지만, 아니라면 커밋이 날아갈 수 있으므로 주의!  
  > reset 이후 push를 최초로 할 때에는 git push --force를 수행해야한다.


[Branch에 대한 개념을 익히기 좋은 사이트]  
https://learngitbranching.js.org/?locale=ko
#
## Merge 중에 충돌 해결하기
### 충돌의 발생원인
- 자동병합을 실패했을 경우 발생
- 주로 두 커밋이 같은 파일을 편집했을 경우 발생

### 일반적인 해결 방법
- **에디터를 이용한 해결**
  - 에디터에 어떤 부분이 충돌된 것인지 표시가 있다.
  - 이 부분을 꼼꼼히 읽어가며 수동으로 수정한다.
- **병합툴을 이용한 해결**
- **sourceTree를 이용한 해결**
  - 원격 저장소 또는 로컬 중 하나만 덮어쓰면 될 경우에 사용한다.
  - (충돌난 파일 우클릭 > 충돌 해결에서 선택)
  
### 충돌을 해결했는데 이상해졌다면
- 되돌리기가 가능하므로 너무 걱정하지 말기!

#
## Commit 되돌리기
### 1. Reset 사용하기
- 장점 : 쉽고 직관적
- 단점 : 내용이 사라질 위험이 있음. 특히 hard Reset을 사용하면 더 위험하다! 
- sourceTree에서는 commit내용 우클릭 후 '(브랜치이름)을 여기로 되돌리기'를 사용한다.

> ### Reset 과정 중에 문제 해결
> 원격 저장소의 버전은 reset 이전이므로, reset이후 최초 push를 할 때에는 pull과 함께 수행하라는 문구가 발생한다.
>1. **git push --force를 수행**  
   (sourceTree에서는 지원하지 않으므로 CLI를 통해)
>2. 원격 저장소가 가리키는 브랜치에 **merge후에 push 수행**  
  충돌이 나는 것에 대한 처리가 필요할 수 있음..

####_그럼 좀 안전하게 되돌리는 방법은 없을까?_

### 2. Branch를 활용
- 장점 : 쉽고 기록이 남아있음 
- 단점 : 브랜치 트리가 복잡해짐

1. 되돌릴 위치에서 branch생성 후, 체크아웃
2. 필요한 작업만 수행 후 merge
3. 충돌이 나는 파일 우클릭 후 '저장소 것을 사용' 클릭하면 해당 브랜치만 적용


### 3. Revert 사용하기
의미없는...
